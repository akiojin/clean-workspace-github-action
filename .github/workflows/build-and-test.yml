# Copyright (c) 2022 Akio Jinsenji

name: Build & Test

on: push

jobs:
  Build:
    runs-on: ubuntu-latest
    timeout-minutes: 5

    steps:
      - name: 🌱 Checkout to the branch
        uses: actions/checkout@v4

      - name: 🍏 Set up Node.js version
        uses: actions/setup-node@v3
        with:
          node-version: 18

      - name: ⚙️ npm build
        run: npm run build

  Test:
    runs-on: ${{ matrix.OS }}
    needs: Build
    timeout-minutes: 5
    strategy:
      matrix:
        OS:
          - macos-latest
          - windows-latest
          - ubuntu-latest

    steps:
      - name: 🌱 Checkout to the branch
        uses: actions/checkout@v4

      - name: 💣 Test
        uses: ./
